(this["webpackJsonpcarbon-journey"]=this["webpackJsonpcarbon-journey"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/prelitho-stay.41a347e3.png"},,function(e,t,a){e.exports=a.p+"static/media/postlitho-atmo.6d9af7bb.png"},,,,,,,,function(e,t,a){e.exports=a.p+"static/media/bio-atmo.08d0e11b.png"},function(e,t,a){e.exports=a.p+"static/media/hydro-stay.3c886bbd.png"},function(e,t,a){e.exports=a.p+"static/media/atmo-plant.1100d1f8.png"},function(e,t,a){e.exports=a.p+"static/media/atmo-water.5529a4d3.png"},function(e,t,a){e.exports=a.p+"static/media/atmo-stay.ea5d24e5.png"},function(e,t,a){e.exports=a.p+"static/media/bio-lith.fd44ea7f.png"},function(e,t,a){e.exports=a.p+"static/media/postlitho-stay.71a49219.png"},,,,function(e,t,a){e.exports=a.p+"static/media/bio-stay.314c5778.png"},function(e,t,a){e.exports=a.p+"static/media/hydro-atmo.94591631.png"},function(e,t,a){e.exports=a.p+"static/media/hydro-bio.2a63d6ce.png"},function(e,t,a){e.exports=a.p+"static/media/hydro-litho.bc51b8f7.png"},function(e,t,a){e.exports=a.p+"static/media/prelitho-atmo.b9cb90d3.png"},,,function(e,t,a){e.exports=a(49)},,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/px.941fa3c0.png"},function(e,t,a){e.exports=a.p+"static/media/nx.6d39d2fd.png"},function(e,t,a){e.exports=a.p+"static/media/py.44b672f3.png"},function(e,t,a){e.exports=a.p+"static/media/ny.14fb552a.png"},function(e,t,a){e.exports=a.p+"static/media/pz.60b2f35e.png"},function(e,t,a){e.exports=a.p+"static/media/nz.b2034567.png"},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),c=a.n(o),i=(a(40),a(5)),l=a(3),s=(a(41),a(1)),u=a(50),m=a(7),p=a(28),d=a(21),f=a.n(d),h=a(22),b=a.n(h),g=a(23),y=a.n(g),E=a(19),v=a.n(E),x=a(24),w=a.n(x),j=a(29),O=a.n(j),S=a(30),M=a.n(S),k=a(31),C=a.n(k),N=a(32),R=a.n(N),P=a(20),I=a.n(P),V=a(33),z=a.n(V),B=a(9),L=a.n(B),A=a(11),G=a.n(A),T=a(25),D=a.n(T),F=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--roll-result-transition").replace(/ms/,"")),J=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]];Object(m.b)({OrbitControls:p.a});var W=new s.CubeTextureLoader,H=new s.TextureLoader,U=W.load([a(43),a(44),a(45),a(46),a(47),a(48)]),$=[f.a,y.a,b.a,f.a,y.a,b.a],q=[v.a,w.a,v.a,w.a,v.a,O.a],K=[M.a,I.a,C.a,I.a,R.a,I.a],Q=[z.a,L.a,L.a,L.a,L.a,L.a],X=[G.a,G.a,D.a,G.a,G.a,D.a],Y=$.map((function(e){return H.load(e)})),Z=q.map((function(e){return H.load(e)})),_=K.map((function(e){return H.load(e)})),ee=Q.map((function(e){return H.load(e)})),te=X.map((function(e){return H.load(e)})),ae=function(e){return 2*(Math.random()-.5)*e},ne=function(){return Math.random()>.5?1:-1},re={friction:.1,restitution:.3},oe=function(e){var t=e.setApi,a=e.readyState,o=e.setReadyState,c=e.textures,i=e.showRollResult,p=Object(u.c)((function(){return{mass:5,material:re,args:[4,4,4],position:[0,2,0],velocity:[0,0,0],angularVelocity:[0,0,0]}})),d=Object(l.a)(p,2),f=d[0],h=d[1],b=Object(n.useRef)(new s.Euler),g=Object(n.useRef)(new s.Vector3);return Object(n.useEffect)((function(){h.rotation.subscribe((function(e){b.current.x=e[0],b.current.y=e[1],b.current.z=e[2]})),h.velocity.subscribe((function(e){g.current.x=e[0],g.current.y=e[1],g.current.z=e[2]}))}),[]),Object(m.c)((function(){var e;if("init"===a&&g.current.length()>.5&&o("in-motion"),"in-motion"===a&&g.current.length()<.05&&(null===(e=f.current)||void 0===e?void 0:e.matrix)){var t,n=new s.Matrix4;n.extractRotation(null===(t=f.current)||void 0===t?void 0:t.matrix),[].concat(J).some((function(e,t){var a=new s.Vector3(e[0],e[1],e[2]);return a.applyMatrix4(n),a.y>.9&&(o("stopped"),i(t),!0)}))}})),Object(n.useEffect)((function(){t(h)}),[t,h]),r.a.createElement("mesh",{receiveShadow:!0,castShadow:!0,ref:f},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[4,4,4]}),c.map((function(e){return r.a.createElement("meshLambertMaterial",{key:e.uuid,attachArray:"material",map:e})})))},ce=[20,20,.1,100,100,10],ie=ce,le=function(){var e=Object(u.e)((function(){return{material:re,position:[0,0,0],rotation:[-Math.PI/2,0,0]}})),t=Object(l.a)(e,1)[0],a=Object(u.c)((function(){return{material:re,position:[0,10,-10],args:ce}})),n=Object(l.a)(a,1)[0],o=Object(u.c)((function(){return{material:re,args:ce,position:[-10,10,0],rotation:[-Math.PI/2,-Math.PI/2,0]}})),c=Object(l.a)(o,1)[0],i=Object(u.c)((function(){return{material:re,args:ce,position:[10,10,0],rotation:[-Math.PI/2,-Math.PI/2,0]}})),m=Object(l.a)(i,1)[0],p=Object(u.c)((function(){return{material:re,args:ce,position:[0,10,10]}})),d=Object(l.a)(p,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("mesh",{ref:t,receiveShadow:!0,name:"ground"},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[20,20]}),r.a.createElement("meshLambertMaterial",{attach:"material",color:"#444"})),r.a.createElement("mesh",{ref:n},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:ie}),r.a.createElement("meshStandardMaterial",{metalness:.9,roughness:.1,attach:"material",color:"#fff",envMap:U,transparent:!0,side:s.DoubleSide,opacity:.1})),r.a.createElement("mesh",{ref:c},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:ie}),r.a.createElement("meshStandardMaterial",{metalness:.9,roughness:.1,attach:"material",color:"#fff",envMap:U,transparent:!0,side:s.DoubleSide,opacity:.1})),r.a.createElement("mesh",{ref:m},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:ie}),r.a.createElement("meshStandardMaterial",{metalness:.9,roughness:.1,attach:"material",color:"#fff",envMap:U,transparent:!0,side:s.DoubleSide,opacity:.1})),r.a.createElement("mesh",{ref:d},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:ie}),r.a.createElement("meshStandardMaterial",{metalness:.9,roughness:.1,attach:"material",color:"#fff",envMap:U,transparent:!0,side:s.DoubleSide,opacity:.1})))},se=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ambientLight",null),r.a.createElement("pointLight",{position:[10,30,10],intensity:1,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-radius":10}),r.a.createElement(u.a,{gravity:[0,-50,0]},r.a.createElement(oe,{setApi:e.setApi,readyState:e.cubeState,setReadyState:e.setCubeState,textures:e.cubeTexture,showRollResult:e.showRollResult}),r.a.createElement(le,null)))},ue=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(Math.floor(4*Math.random())),u=Object(l.a)(c,2),p=u[0],d=u[1],f=[{name:"Atmosphere",faces:$,texture:Y,color:"lightblue"},{name:"Biosphere",faces:q,texture:Z,color:"green"},{name:"Hydrosphere",faces:K,texture:_,color:"blue"},{name:"Lithosphere",faces:a?X:Q,texture:a?te:ee,color:"black"}],h=f[p].faces,b=f[p].texture,g=f[p].name,y=Object(n.useState)(),E=Object(l.a)(y,2),v=E[0],x=E[1],w=Object(n.useState)("init"),j=Object(l.a)(w,2),O=j[0],S=j[1],M=Object(n.useState)(),k=Object(l.a)(M,2),C=k[0],N=k[1],R=Object(n.useState)("hide"),P=Object(l.a)(R,2),I=P[0],V=P[1],z=function(e){V("hide"),setTimeout((function(){N(void 0)}),null!=e?e:F)},B=function(){var e;z();var t={angularVelocity:new s.Vector3(ae(8)*Math.PI,ae(8)*Math.PI,ae(8)*Math.PI),velocity:new s.Vector3(ne()*(10*(Math.random()+1)+10),3*(Math.random()+1),ne()*(10*(Math.random()+1)+10)),position:new s.Vector3(ae(2)+2,10,ae(2)+2)},a=t.velocity,n=t.angularVelocity,r=t.position;null===v||void 0===v||v.position.set(r.x,r.y,r.z),null===v||void 0===v||v.rotation.set(0,0,0),null===v||void 0===v||v.velocity.set(a.x,a.y,a.z),null===v||void 0===v||v.angularVelocity.set(n.x,n.y,n.z),null===v||void 0===v||null===(e=v.mass)||void 0===e||e.set(5),S("init")},L=Object(n.useState)([]),A=Object(l.a)(L,2),G=A[0],T=A[1],D=null!=C&&C<=5&&C>=0;return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{style:{height:"100vh",width:"100%"},camera:{position:[0,16,9.5],rotation:[-.15,0,0]},shadowMap:!0},r.a.createElement(se,{setApi:x,cubeState:O,setCubeState:S,cubeTexture:b,showRollResult:function(e){V("show"),N(e)}})),r.a.createElement("div",{className:"roll-result-overlay ".concat(I)},D&&r.a.createElement("img",{src:h[C],alt:""})),r.a.createElement("div",{className:"sphere-name"},g,"Lithosphere"===g&&r.a.createElement("h6",{style:{margin:0}},"(",a?"post-industrial":"pre-industrial",")")),r.a.createElement("div",{className:"left-side"},r.a.createElement("div",{className:"label"},"Click to log rolls:"),r.a.createElement("div",null,f.map((function(e){return r.a.createElement("button",{key:e.name,className:"roll-log-button",style:{backgroundColor:e.color,borderColor:e.color},onClick:function(){var t;t=e.name,T([].concat(Object(i.a)(G),[t]))}},e.name.slice(0,1).toUpperCase())}))),r.a.createElement("button",{onClick:function(){return T([])},className:"clear-roll-log-button"},"Clear roll log"),r.a.createElement("div",{className:"label"},"Roll log:"),G.map((function(e,t){var a=f.find((function(t){return t.name===e}));return a?r.a.createElement("div",{key:t,className:"roll-marker",style:{backgroundColor:a.color,borderColor:a.color}}):null}))),r.a.createElement("div",{className:"right-side"},r.a.createElement("button",{className:"roll-btn",onClick:function(){return B()}},"Roll"),r.a.createElement("div",{className:"label"},a?"Post-industrial":"Pre-industrial"),r.a.createElement("label",{className:"switch industrial-switch"},r.a.createElement("input",{type:"checkbox",onChange:function(e){z(0),o(e.target.checked)}}),r.a.createElement("span",{className:"slider round"})),r.a.createElement("div",{className:"label"},"Switch die:"),f.map((function(e,t){return r.a.createElement("button",{key:e.name,className:"sphere-selector-button",style:{color:e.color,borderColor:e.color},onClick:function(){!function(e){e<=4&&e>=0&&d(e)}(t),z(0)}},e.name)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[36,1,2]]]);
//# sourceMappingURL=main.7a54557d.chunk.js.map